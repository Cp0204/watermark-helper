# 水印助手
给证件图打水印是一个必要的习惯，奈何每次都要用PS这把大刀来搞。考虑隐私问题，一堆一个个都要联网，所以就随便写了这个工具。

## 需求
一个启用了JavaScript的现代浏览器，不需要联网。

## 使用
- HTML文件

    直接用浏览器打开[watermark-helper.html](watermark-helper.html) 或 [watermark-helper.min.html](watermark-helper.min.html)（压缩版）即可。

- DataLink **推荐**
    
    使用浏览器打开[data-link.txt](data-link.txt)文件中的链接或直接点击[此链接](data:text/html;base64,PCFET0NUWVBFIGh0bWw+PGh0bWwgbGFuZz16aD48aGVhZD48bWV0YSBjaGFyc2V0PVVURi04Pjx0aXRsZT7msLTljbDliqnmiYs8L3RpdGxlPjxtZXRhIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEiIG5hbWU9dmlld3BvcnQ+PHN0eWxlPmJvZHl7bWFyZ2luOmF1dG87bWF4LXdpZHRoOjYwdmh9aW1ne2JvcmRlcjowO2JvcmRlci1yYWRpdXM6NXB4O3dpZHRoOjEwMCU7Ym94LXNpemluZzpib3JkZXItYm94fWNhbnZhc3tkaXNwbGF5Om5vbmV9bGFiZWx7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW4tdG9wOjhweH0jZHJvcC1hcmVhe2JvcmRlcjoycHggZGFzaGVkICNjY2M7cGFkZGluZzoxMHB4O3RleHQtYWxpZ246Y2VudGVyfSN1cGxvYWQtaW5wdXR7ZGlzcGxheTpub25lfTwvc3R5bGU+PC9oZWFkPjxib2R5PjxjYW52YXM+PC9jYW52YXM+PGEgZG93bmxvYWQgaWQ9aW1nbGluaz48aW1nPjwvYT48ZGl2PjxkaXYgaWQ9ZHJvcC1hcmVhPjxpbnB1dCBpZD11cGxvYWQtaW5wdXQgdHlwZT1maWxlIGFjY2VwdD1pbWFnZS8qPiDmi5bmlL7miJbngrnlh7vpgInmi6nlm77niYc8L2Rpdj48bGFiZWw+5rC05Y2w5paH5a2X77yaIDxpbnB1dCBpZD1jb250ZW50IHR5cGU9dGV4dCB2YWx1ZT3ku4XkvptYWOWunuWQjeiupOivgeS9v+eUqD48L2xhYmVsPjxsYWJlbD7msLTljbDpopzoibLvvJogPGlucHV0IGlkPWNvbG9yIHR5cGU9Y29sb3IgdmFsdWU9IzY2NjY2Nj48L2xhYmVsPjxsYWJlbD7lm77niYflrr3luqbvvJogPGlucHV0IGlkPXdpZHRoIHR5cGU9bnVtYmVyIHZhbHVlPTIwNDg+PC9sYWJlbD48bGFiZWw+5Zu+54mH6LSo6YeP77yaIDxpbnB1dCBpZD1xdWFsaXR5IHR5cGU9cmFuZ2UgdmFsdWU9ODAgbWF4PTEwMCBtaW49MT48c3BhbiBpZD1pbWdzaXplPjwvc3Bhbj48L2xhYmVsPjxsYWJlbD7kuI3pgI/mmI7luqbvvJogPGlucHV0IGlkPWFscGhhIHR5cGU9cmFuZ2UgdmFsdWU9MjAgbWF4PTEwMCBtaW49MTA+PC9sYWJlbD48bGFiZWw+5paH5a2X5aSn5bCP77yaIDxpbnB1dCBpZD1zaXplIHR5cGU9cmFuZ2UgdmFsdWU9NCBtYXg9MTAgbWluPTE+PC9sYWJlbD48bGFiZWw+5peL6L2s6KeS5bqm77yaIDxpbnB1dCBpZD1hbmdsZSB0eXBlPXJhbmdlIHZhbHVlPS00NSBtYXg9MTgwIG1pbj0tMTgwPjwvbGFiZWw+PGxhYmVsPuawtOWNsOihjOi3ne+8miA8aW5wdXQgaWQ9Z2FwIHR5cGU9cmFuZ2UgdmFsdWU9MTUwIG1heD0zMDAgbWluPTIwPjwvbGFiZWw+PGxhYmVsPuawtOWNsOWtl+S9k++8miA8aW5wdXQgaWQ9Zm9udCB0eXBlPXRleHQgdmFsdWU9c2Fucy1zZXJpZj48L2xhYmVsPjxsYWJlbD48YSBkb3dubG9hZCBpZD1zYXZlbGluayBocmVmPSJqYXZhc2NyaXB0OmFsZXJ0KCfor7flhYjmiZPlvIDlm77niYcnKSI+5L+d5a2Y5Zu+54mHPC9hPjwvbGFiZWw+PC9kaXY+PHNjcmlwdD5sZXQgJD1lPT5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpLGNhbnZhcz0kKCJjYW52YXMiKSxjdHg9Y2FudmFzLmdldENvbnRleHQoIjJkIiksaW1nRWw9JCgiaW1nIiksaW1nTGluaz0kKCIjaW1nbGluayIpLHNhdmVMaW5rPSQoIiNzYXZlbGluayIpLGltZ1NpemU9JCgiI2ltZ3NpemUiKSxpbWc9bnVsbCx1cGRhdGVJbWFnZT1lPT57dmFyIGE9VVJMLmNyZWF0ZU9iamVjdFVSTChlKTtpbWdTaXplLmlubmVySFRNTD1gKCR7TWF0aC5jZWlsKGUuc2l6ZS8xMDI0KX0gS0IpYCxpbWdFbC5zcmM9YSxpbWdMaW5rLmhyZWY9YSxzYXZlTGluay5ocmVmPWF9LGRyYXdXYXRlcm1hcms9KCk9PntpZihpbWcpe3ZhciBlPSskKCIjd2lkdGgiKS52YWx1ZSxhPWltZy5oZWlnaHQqZS9pbWcud2lkdGgscj0oY2FudmFzLndpZHRoPWUsY2FudmFzLmhlaWdodD1hLGN0eC5kcmF3SW1hZ2UoaW1nLDAsMCxlLGEpLGN0eC5maWxsU3R5bGU9JCgiI2NvbG9yIikudmFsdWUsY3R4Lmdsb2JhbEFscGhhPSQoIiNhbHBoYSIpLnZhbHVlLzEwMCxNYXRoLm1heChhLGUpKSxsPSQoIiNzaXplIikudmFsdWUqci8xMDAsaT1sKiQoIiNnYXAiKS52YWx1ZS8xMDAsYT0kKCIjYW5nbGUiKS52YWx1ZSpNYXRoLlBJLzE4MCxuPSQoIiNjb250ZW50IikudmFsdWU7aWYoY3R4LmZvbnQ9YCR7bH1weCAiJHskKCIjZm9udCIpLnZhbHVlfSJgLGN0eC50ZXh0QmFzZWxpbmU9Im1pZGRsZSIsY3R4LnJvdGF0ZShhKSxuLmxlbmd0aCl7dmFyIGQ9TWF0aC5zcXJ0KDIqcipyKSxvPWN0eC5tZWFzdXJlVGV4dChuKS53aWR0aDtmb3IobGV0IGE9LXIsdD0hMTthPD1kO2ErPWwraSx0PSF0KWZvcihsZXQgZT0tci0odD9vLzI6MCk7ZTw9ZCsodD9vLzI6MCk7ZSs9bytsKWN0eC5maWxsVGV4dChuLGUsYSl9Y2FudmFzLnRvQmxvYih1cGRhdGVJbWFnZSwiaW1hZ2UvanBlZyIsJCgiI3F1YWxpdHkiKS52YWx1ZS8xMDApfX0saGFuZGxlSW1hZ2VVcGxvYWQ9ZT0+e3ZhciBhPW5ldyBGaWxlUmVhZGVyLGE9KGEub25sb2FkPWU9PnsoaW1nPW5ldyBJbWFnZSkub25sb2FkPSgpPT57ZHJhd1dhdGVybWFyaygpfSxpbWcuc3JjPWUudGFyZ2V0LnJlc3VsdH0sYS5yZWFkQXNEYXRhVVJMKGUpLGUubmFtZS5zcGxpdCgiLiIpKSxlPShhLnNwbGljZSgtMSwwLCJ3YXRlcm1hcmtlZCIpLGEuam9pbigiLiIpKTtpbWdMaW5rLmRvd25sb2FkPWUsc2F2ZUxpbmsuZG93bmxvYWQ9ZX0sZHJvcEFyZWE9KGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsZT0+eyJmaWxlIj09PWUudGFyZ2V0LnR5cGUmJmUudGFyZ2V0LmZpbGVzLmxlbmd0aD9oYW5kbGVJbWFnZVVwbG9hZChlLnRhcmdldC5maWxlc1swXSk6ZHJhd1dhdGVybWFyaygpfSksJCgiI2Ryb3AtYXJlYSIpKTtkcm9wQXJlYS5hZGRFdmVudExpc3RlbmVyKCJkcmFnb3ZlciIsZT0+e2UucHJldmVudERlZmF1bHQoKSxkcm9wQXJlYS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNmMmYyZjIifSksZHJvcEFyZWEuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ2xlYXZlIixlPT57ZS5wcmV2ZW50RGVmYXVsdCgpLGRyb3BBcmVhLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIn0pLGRyb3BBcmVhLmFkZEV2ZW50TGlzdGVuZXIoImRyb3AiLGU9PntlLnByZXZlbnREZWZhdWx0KCksZHJvcEFyZWEuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIiLGhhbmRsZUltYWdlVXBsb2FkKGUuZGF0YVRyYW5zZmVyLmZpbGVzWzBdKX0pLGRyb3BBcmVhLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwoKT0+JCgiI3VwbG9hZC1pbnB1dCIpLmNsaWNrKCkpPC9zY3JpcHQ+PC9ib2R5PjwvaHRtbD4=)即可，此链接直接包含了整个网页文件，可添加到收藏夹云同步等。
    > 请注意部分国产浏览器不支持这么长的链接，如果出现网页显示不全或操作无反应的话，请换用上一种方法。
    
## 额外说明
- 水印大小比：根据图片的大小缩放字体的比例（3%~10%）
- 水印间隔比：根据字体大小缩放两行水印间距的比例（20%~300%）

## 构建
如果有自行修改的需求，请直接修改 `./watermark-helper.html` 文件，然后运行 `./index.js` 将会自动根据修改生成其他文件。

```bash
npm install
node .
```
